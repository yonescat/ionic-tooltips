{"version":3,"file":"tooltip.spec.js","sourceRoot":"","sources":["../src/tooltip.spec.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  AfterViewInit,\n  Component,\n  DebugElement,\n  ElementRef,\n  ViewChild,\n  ViewContainerRef\n} from '@angular/core';\nimport { async, ComponentFixture, TestBed } from '@angular/core/testing';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { IonicModule } from 'ionic-angular';\n\nimport { TooltipBox } from './tooltip-box.component';\nimport { Tooltip } from './tooltip.directive';\nimport { TooltipsModule } from './tooltips.module';\n\n@Component({\n  selector: 'tooltip-view',\n  template:\n    '<button #btn tooltip=\"Hello world\" [duration]=\"1000\" [active]=\"active\">Click me</button>'\n})\nclass TestPage implements AfterViewInit {\n  @ViewChild('btn') button: ElementRef;\n\n  @ViewChild(Tooltip) tooltip: Tooltip;\n\n  active: boolean = false;\n\n  constructor(public _viewport: ViewContainerRef) {}\n\n  getButtonNativeElement(): HTMLButtonElement {\n    return this.button.nativeElement;\n  }\n\n  getTooltip(): Tooltip {\n    return this.tooltip;\n  }\n\n  ngAfterViewInit() {\n    (this.tooltip as any).appRef.components.push({\n      _component: this\n    });\n  }\n}\n\ndescribe('Tooltip', () => {\n  let de: DebugElement,\n    comp: TestPage,\n    fixture: ComponentFixture<TestPage>,\n    tooltip: any,\n    getTooltipBox: () => TooltipBox;\n\n  beforeEach(async(() => {\n    TestBed.configureTestingModule({\n      declarations: [TestPage],\n      imports: [\n        IonicModule.forRoot(TestPage), // to be able to inject Platform\n        BrowserAnimationsModule, // needed for TooltipsModule\n        TooltipsModule.forRoot(),\n      ]\n    }).compileComponents();\n  }));\n\n  beforeEach(() => {\n    console.log(!!fixture, !!comp, !!de, !!tooltip);\n\n    fixture = TestBed.createComponent(TestPage);\n    fixture.autoDetectChanges(true);\n    comp = fixture.componentInstance;\n    de = fixture.debugElement;\n    tooltip = comp.getTooltip();\n    getTooltipBox = () => tooltip.tooltipElement.instance;\n  });\n\n  it('container page should exist', () => {\n    expect(comp).toBeDefined();\n    expect(comp instanceof TestPage).toBeTruthy();\n  });\n\n  it('should display TooltipBox on click for 1s', () => {\n    tooltip.onClick();\n    fixture.detectChanges();\n    expect(tooltip.tooltipElement).toBeDefined();\n    setTimeout(() => {\n      fixture.detectChanges();\n      expect(tooltip.tooltipElement).toBeUndefined();\n    }, 1000);\n  });\n\n  it('should display TooltipBox on press for 1s', () => {\n    tooltip.event = 'press';\n    tooltip.onPress();\n    fixture.detectChanges();\n    expect(tooltip.tooltipElement).toBeDefined();\n    setTimeout(() => {\n      fixture.detectChanges();\n      expect(tooltip.tooltipElement).toBeUndefined();\n    }, 1000);\n  });\n\n  it('should display TooltipBox when active', () => {\n    tooltip.active = true;\n    expect(tooltip.tooltipElement).toBeDefined();\n    expect(tooltip.active).toBeTruthy();\n  });\n\n  it('should contain \"Hello world\"', () => {\n    tooltip.active = true;\n    fixture.detectChanges();\n    expect(getTooltipBox().getNativeElement().innerText).toEqual('Hello world');\n  });\n});\n"]}